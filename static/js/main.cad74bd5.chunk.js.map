{"version":3,"sources":["images/success-icon.svg","images/failure-icon.svg","utils/auth.js","images/burger-icon.svg","images/button-cross.svg","images/logo.svg","components/Header.js","components/SignForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/utils.js","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteConfirmPopup.js","components/InfoTooltip.js","components/App.js","index.js"],"names":["url","headers","this","_url","_headers","res","ok","json","Promise","reject","status","statusText","email","password","fetch","method","body","JSON","stringify","then","_onResponse","jwt","Header","navPath","linkText","isButtonTextGrey","showMenu","onHeaderButtonClick","useState","menuToggled","setMenuToggled","history","useHistory","classHeader","classHeaderMain","className","src","logoPath","alt","onClick","evt","push","closeIcon","burgeIcon","SignForm","title","buttonName","showedFooter","onSubmit","setEmail","setPassword","name","preventDefault","noValidate","type","value","onChange","target","placeholder","required","to","activeClassName","Login","onSuccess","onFailure","Auth","signin","token","localStorage","setItem","console","error","catch","Register","signup","log","ProtectedRoute","Component","component","props","loggedIn","document","querySelector","onRequestError","apiErr","msg","apiErrorMsg","link","avatar","about","cardId","isLiked","removeLike","setLike","authorization","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","user","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","like","cardLikeButtonClassName","aria-label","length","Main","cards","userEmail","onLogout","onEditProfile","onAddPlace","onEditAvatar","map","Footer","ImagePopup","onClose","PopupWithForm","isOpen","isLoading","buttonText","children","isFormValid","setIsFormValid","formRef","useRef","useEffect","current","checkValidity","ref","disabled","EditProfilePopup","onUpdateUser","setName","description","setDescription","nameInputErrMessage","setNameInputErrMessage","descriptionInputErrMessage","setDescriptionInputErrMessage","resetInputs","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","setLink","linkInputErrMessage","setLinkInputErrMessage","handleChange","test","onBlur","AddPlacePopup","onCardAdd","urlInputErrMessage","setUrlInputErrMessage","handleNameChange","handleLinkChange","DeleteConfirmPopup","onDeleteConfirm","InfoTooltip","message","imageSrc","App","setLoggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isTooltipPopupOpen","setIsTooltipPopupOpen","setCards","setUserEmail","isDoingWork","setIsDoingWork","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","currentUser","setCurrentUser","tooltipMessage","setTooltipMessage","tooltipImage","setTooltipImage","getItem","getContent","data","checkToken","api","getUserInfo","err","getCards","closeAllPopups","handleSignFailure","failureImage","Provider","path","successImage","removeItem","changeLikeCardStatus","newCard","state","c","setProfile","newUser","finally","addCard","updateAvatar","deleteCard","filter","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.cad74bd5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/success-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/failure-icon.df8eddf6.svg\";","class Auth {\n    constructor(url, headers) {\n      this._url = url;\n      this._headers = headers;\n    }\n  \n    _onResponse(res) {\n      if (res.ok) {\n        return res.json();\n      }\n  \n      return Promise.reject({\n        status: res.status,\n        statusText: res.statusText\n      });\n    }\n  \n    signin(email, password) {\n      return fetch(`${this._url}/signin`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({email, password})\n      })\n      .then(this._onResponse);\n    }\n  \n    signup(email, password) {\n      return fetch(`${this._url}/signup`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({email, password})\n      })\n      .then(this._onResponse)\n    }\n\n    getContent(jwt) {\n      return fetch(`${this._url}/users/me`, {\n        headers: { \n          ...this._headers,\n          'Authorization': `Bearer ${jwt}`\n        }\n      })\n      .then(this._onResponse)\n    }\n}\n\n/* Create and export Auth */\nexport default new Auth('https://auth.nomoreparties.co', {\n    'content-type': 'application/json'\n});","export default __webpack_public_path__ + \"static/media/burger-icon.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/button-cross.d86bb2ed.svg\";","export default __webpack_public_path__ + \"static/media/logo.1f1e9591.svg\";","import '../index.css';\nimport {useState} from 'react';\nimport burgeIcon from '../images/burger-icon.svg';\nimport closeIcon from '../images/button-cross.svg';\nimport {useHistory} from 'react-router-dom';\nimport logoPath from '../images/logo.svg';\n\nfunction Header({navPath, email, linkText, isButtonTextGrey, showMenu, onHeaderButtonClick}) {\n    const [menuToggled, setMenuToggled] = useState(false);\n    const history = useHistory();\n\n    const handleClick = (evt) => {\n      if (onHeaderButtonClick) onHeaderButtonClick();\n      history.push(navPath);\n    }\n\n    const toggleMenu = () => {\n      setMenuToggled(!menuToggled);\n    }\n\n    const classHeader = `header page__header ${(showMenu && menuToggled) ? 'header_type_grid' : 'header_type_flex'}`;\n    const classHeaderMain = `header__main ${showMenu && 'header__main_type_bordered'} ${menuToggled && 'header__main_visible'} ${!showMenu && 'header__main_visible'}`;\n\n    return (\n        <header className={classHeader}>\n          <img src={logoPath} alt=\"Лого Mesto\" className=\"header__logo\" />\n          <div className={classHeaderMain}>\n            {email && <span className=\"header__user-name\">{email}</span>}\n            <button className={`header__button ${isButtonTextGrey && 'header__button_color_grey'}`}\n                    onClick={handleClick}\n            >\n                      {linkText}\n            </button>\n          </div>\n          {showMenu && <button className=\"header__burger\" onClick={toggleMenu}>\n            {menuToggled\n                ? <img src={closeIcon} alt=\"кнопка закрыть\" className='header__close-button'/>\n                : <img src={burgeIcon} alt=\"бургер-меню\"/>}\n          </button>}\n        </header>\n    );\n}\n\nexport default Header;","import '../index.css';\nimport {useState} from 'react';\nimport {NavLink} from 'react-router-dom';\n\nfunction SignForm({title, buttonName, showedFooter, onSubmit}) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const handleEmailChange = (evt) => {\n      const value = evt.target.value;\n      setEmail(value);\n    };\n\n    const handlePasswordChange = (evt) => {\n      const value = evt.target.value;\n      setPassword(value);\n    };\n\n    const handleSubmit = (evt) => {\n      evt.preventDefault();\n      onSubmit({\n        email,\n        password\n      });\n    }\n\n    return (\n      <div className='login'>\n        <form\n              className=\"login__form\"\n              name='login-form'\n              onSubmit={handleSubmit}\n              noValidate>\n          <h2 className=\"login__heading\">{title}</h2>\n          <fieldset className=\"login__info\">\n            <div className=\"login__container\">\n              <input\n                  type=\"email\"\n                  className=\"form-input login__input login__input_name_email\"\n                  value={email}\n                  onChange={handleEmailChange}\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  required />\n              <span\n                className='login__input-error login__input-error_name_email'>\n              </span>\n              <input\n                  type=\"password\"\n                  className=\"form-input login__input login__input_name_password\"\n                  value={password}\n                  onChange={handlePasswordChange}\n                  name=\"password\"\n                  placeholder=\"Пароль\"\n                  required />\n              <span\n                className='login__input-error login__input-error_name_password'>\n              </span>\n            </div>\n            <button type=\"submit\"\n                  className='button login__save-button'>{buttonName}</button>\n          </fieldset>\n        </form>\n        <footer className={`login__footer ${showedFooter && 'login__footer_visible'}`}>\n          <NavLink to=\"/sign-in\" activeClassName=\"login__footer-link_active\" className=\"login__footer-link\">Уже зарегистрированы? Войти</NavLink>\n        </footer>\n      </div>\n    );\n}\n\nexport default SignForm;","import '../index.css';\nimport Auth from '../utils/auth';\nimport Header from './Header';\nimport SignFrom from '../components/SignForm';\n\nfunction Login({onSuccess, onFailure}) {\n  const handleSubmit = ({email, password}) => {\n    Auth.signin(email, password)\n        .then(res => {\n          if (res.token) {\n            localStorage.setItem('jwt', res.token);\n            onSuccess(res.token);\n          } else {\n            console.error('No token in response during signin.');\n            onFailure();\n          }\n        })\n        .catch(({status, statusText}) => {\n          console.error('Failed to signin.', status, statusText);\n          onFailure();\n        });\n  }\n\n  return (\n    <>\n      <Header navPath={'/sign-up'} linkText='Регистрация'/>\n      <SignFrom\n        title=\"Вход\"\n        buttonName=\"Войти\"\n        showedFooter={false}\n        onSubmit={handleSubmit}\n      />\n    </>\n  );\n}\n\nexport default Login;","import '../index.css';\nimport {useHistory} from 'react-router-dom';\nimport Auth from '../utils/auth';\nimport Header from './Header';\nimport SignForm from '../components/SignForm';\n\nfunction Register({onSuccess, onFailure}) {\n  const history = useHistory();\n\n  const handleSubmit = ({email, password}) => {\n    Auth.signup(email, password)\n        .then(res => {\n          console.log('registered');\n          history.push('/sign-in');\n          onSuccess();\n        })\n        .catch(({status, statusText}) => {\n          console.error('Failed to register.', status, statusText);\n          onFailure();\n        });\n  }\n  \n  return (\n    <>\n      <Header navPath={'/sign-in'} linkText='Войти'/>\n      <SignForm\n        title=\"Регистрация\"\n        buttonName=\"Зарегистрироваться\"\n        showedFooter={true}\n        onSubmit={handleSubmit}\n      />\n    </>\n  );\n}\n\nexport default Register;","import { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({component: Component, ...props}) {\n  return (\n    <Route>\n      { props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" /> }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","export const formConfig = {\n    inputSelector: '.popup__input',\n    submitButtonSelector: '.popup__save-button',\n    inactiveButtonClass: 'popup__save-button_disabled',\n    inputErrorClass: 'popup__input_type_error',\n    errorClass: 'popup__input-error_active',\n    errorInputElementNamePrefix: '.popup__input-error_name_'\n}\n  \nexport const profileInfoEditButton = document.querySelector('.profile__edit-button');\nexport const addCardButton = document.querySelector('.profile__add-button');\nexport const updateAvatarButton = document.querySelector('.profile__avatar-button');\n\nexport function onRequestError(apiErr, msg) {\n    const apiErrorMsg = apiErr\n            ? `${apiErr.status} ${apiErr.statusText}`\n            : null;\n    console.error(msg, apiErrorMsg);\n}","class Api {\n    constructor(url, headers) {\n      this._url = url;\n      this._headers = headers;\n    }\n  \n    _onResponse(res) {\n      if (res.ok) {\n        return res.json();\n      }\n  \n      return Promise.reject({\n        status: res.status,\n        statusText: res.statusText\n      });\n    }\n  \n    getCards() {\n      return fetch(`${this._url}cards`, {\n        headers: this._headers\n      })\n      .then(this._onResponse);\n    }\n  \n    getUserInfo() {\n      return fetch(`${this._url}users/me`, {\n        headers: this._headers\n      })\n      .then(this._onResponse)\n    }\n  \n    updateAvatar(link) {\n      return fetch(`${this._url}users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({avatar: link})\n      })\n      .then(this._onResponse);\n    }\n  \n    setProfile(name, about) {\n      return fetch(`${this._url}users/me`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({name, about})\n      })\n      .then(this._onResponse);\n    }\n  \n    addCard(name, link) {\n      return fetch(`${this._url}cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({name, link})\n      })\n      .then(this._onResponse);\n    }\n  \n    deleteCard(cardId) {\n      return fetch(`${this._url}cards/${cardId}`, {\n        method: 'DELETE',\n        headers: this._headers\n      })\n      .then(this._onResponse);\n    }\n  \n    setLike(cardId) {\n      return fetch(`${this._url}cards/likes/${cardId}`, {\n        method: 'PUT',\n        headers: this._headers\n      })\n      .then(this._onResponse);\n    }\n  \n    removeLike(cardId) {\n      return fetch(`${this._url}cards/likes/${cardId}`, {\n        method: 'DELETE',\n        headers: this._headers\n      })\n      .then(this._onResponse);\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n      if (isLiked) {\n        return this.removeLike(cardId);\n      } else {\n        return this.setLike(cardId);\n      }\n    }\n}\n\n/* Create and export API */\nexport default new Api('https://mesto.nomoreparties.co/v1/cohort-20/', {\n    authorization: '9a69937c-ba0b-400f-a7bf-af3d18fbfaea',\n    'content-type': 'application/json'\n});\n  ","import {createContext} from 'react';\n\nexport const CurrentUserContext = createContext();","import '../index.css';\nimport {useContext} from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n    const user = useContext(CurrentUserContext);\n    const isOwn = card.owner._id === user._id;\n    const cardDeleteButtonClassName = (\n        `button card__remove-button ${isOwn ? 'card__remove-button_visible' : ''}`\n    );\n    const isLiked = card.likes.some(like => like._id === user._id);\n    const cardLikeButtonClassName = (\n        `button card__like-button ${isLiked ? 'card__like-button_active' : ''}`\n    );\n\n    const handleCardClick = () => onCardClick(card);\n    const handleCardLike = () => onCardLike(card);\n    const handleCardDelete = () => onCardDelete(card);\n\n    return (\n        <li className=\"card\">\n            <button type=\"button\"\n                    aria-label=\"Удалить карточку\"\n                    className={cardDeleteButtonClassName}\n                    onClick={handleCardDelete}></button>\n            <img\n                className=\"card__image\"\n                src={card.link}\n                alt=\"Камчатка\"\n                onClick={handleCardClick} />\n            <div className=\"card__info\">\n                <h2 className=\"card__title\">{card.name}</h2>\n                <div className=\"card__like\">\n                    <button type=\"button\"\n                            aria-label=\"Нравится\"\n                            className={cardLikeButtonClassName}\n                            onClick={handleCardLike}></button>\n                    <p className=\"card__like-counter\">{card?.likes.length}</p>\n                </div>\n            </div>\n        </li>\n    );\n}\n\nexport default Card;","import { useContext } from 'react';\nimport '../index.css';\nimport Header from './Header';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({cards,\n                userEmail,\n                onLogout,\n                onEditProfile,\n                onAddPlace,\n                onEditAvatar,\n                onCardClick,\n                onCardLike,\n                onCardDelete}) {\n  const user = useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header navPath={'/sign-in'}\n              email={userEmail}\n              linkText='Выйти'\n              showMenu={true}\n              isButtonTextGrey={true}\n              onHeaderButtonClick={onLogout}\n      />\n      <main className=\"content page__content\">\n        <section className=\"profile\">\n          {user && (<div className=\"profile__info\">\n            <div className=\"profile__avatar-button\" onClick={onEditAvatar}>\n              <img className=\"profile__avatar\" src={user.avatar} alt=\"Аватар профиля\" />\n            </div>\n            <div className=\"profile__info-text\">\n              <h1 className=\"profile__name\">{user.name}</h1>\n              <p className=\"profile__activity\">{user.about}</p>\n              <button\n                  type=\"button\"\n                  aria-label=\"Редактировать профиль\"\n                  name=\"profile-edit-button\"\n                  className=\"button profile__edit-button\"\n                  onClick={onEditProfile}></button>\n            </div>\n          </div>)}\n          <button \n              type=\"button\"\n              aria-label=\"Добавить карточку\"\n              name=\"profile-add-button\"\n              className=\"button profile__add-button\"\n              onClick={onAddPlace}></button>\n        </section>\n\n        <section className=\"places page__places\" aria-label=\"Карточки мест\">\n          <ul className=\"cards\">\n              { cards.map(card => (\n                  <Card key={card._id}\n                          card={card}\n                          onCardClick={onCardClick}\n                          onCardLike={onCardLike}\n                          onCardDelete={onCardDelete}/>))\n              }\n          </ul>\n        </section>\n      </main>\n    </>\n  )\n}\n\nexport default Main;","import '../index.css';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer page__footer\">\n          <p className=\"footer__copyright\">&copy;2020 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import '../index.css';\n\nfunction ImagePopup({card, onClose}) {\n    return (\n      <div className={`popup image-popup ${card?.link && 'popup_opened'}`}>\n        <figure className=\"popup__container popup__container_size_small image-popup__container\">\n          <button\n              type=\"button\"\n              aria-label=\"Закрыть картинку\"\n              className=\"button popup__close-button popup__close-button_location_topright\"\n              onClick={onClose}></button>\n          <img className=\"image-popup__image\" src={card?.link} alt={card?.name} />\n          <figcaption className=\"image-popup__caption\">{card?.name}</figcaption>\n        </figure>\n      </div>\n    );\n}\n\nexport default ImagePopup;","import { useEffect, useRef, useState } from 'react';\nimport '../index.css';\n\nfunction PopupWithForm({title, name, isOpen, onClose, onSubmit, isLoading, buttonText, children, ...props}) {\n  const [isFormValid, setIsFormValid] = useState(false);\n  const formRef = useRef();\n\n  useEffect(() => {\n    setIsFormValid(formRef.current.checkValidity())\n  },[isOpen, onClose, children]);\n\n  return (\n    <div className={`popup popup_name_${name} ${isOpen && 'popup_opened'}`}  >\n      <form ref={formRef}\n            className=\"popup__container popup__form\"\n            name={`${name}-form`}\n            onSubmit={onSubmit}\n            noValidate>\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть форму\"\n          className=\"button popup__close-button\"\n          onClick={onClose}></button>\n        <h2 className=\"popup__heading\">{title}</h2>\n        <fieldset className=\"popup__info\">\n          {children}\n          <button type=\"submit\"\n                className={`button popup__save-button ${!isFormValid && 'popup__save-button_disabled'}`}\n                disabled={!isFormValid}>{isLoading ? buttonText + '...' : buttonText}</button>\n        </fieldset>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import '../index.css';\nimport {useContext, useEffect, useState} from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser, isLoading}) {\n  const user = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [nameInputErrMessage, setNameInputErrMessage] = useState(null);\n  const [descriptionInputErrMessage, setDescriptionInputErrMessage] = useState(null);\n\n  useEffect(() => {\n    setName(user?.name ?? '');\n    setDescription(user?.about ?? '');\n  }, [user]); \n\n  const handleNameChange = (evt) => {\n    const value = evt.target.value;\n    setName(value);\n\n    if (!value) {\n      setNameInputErrMessage('Обзазательное поле.');\n    } else if (value.length < 2 || value.length > 40) {\n      setNameInputErrMessage('Поле должно содержать минимум 2 символа и максимум 40.');\n    } else {\n      setNameInputErrMessage(null);\n    }\n  };\n\n  const handleDescriptionChange = (evt) => {\n    const value = evt.target.value;\n    setDescription(value);\n\n    if (!value) {\n      setDescriptionInputErrMessage('Обзазательное поле.');\n    } else if (value.length < 2 || value.length > 200) {\n      setDescriptionInputErrMessage('Поле должно содержать минимум 2 символа и максимум 200.');\n    } else {\n      setDescriptionInputErrMessage(null);\n    }\n  };\n\n  const resetInputs = () => {\n    setName(user?.name ?? '');\n    setDescription(user?.about ?? '');\n    setNameInputErrMessage(null);\n    setDescriptionInputErrMessage(null);\n  }\n\n  const handleClose = () => {\n    resetInputs();\n    onClose();\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n  \n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Редактировать профиль\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      isLoading={isLoading}\n      onClose={handleClose}\n      onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          className=\"form-input popup__input popup__input_name_name\"\n          name=\"profile-name\"\n          value={name}\n          onChange={handleNameChange}\n          placeholder=\"Имя профиля\"\n          minLength=\"2\" maxLength=\"40\"\n          required /> \n        <span\n          className={`popup__input-error popup__input-error_name_profile-name ${nameInputErrMessage && 'popup__input-error_active'}`}>\n          {nameInputErrMessage}\n        </span>\n        <input\n          type=\"text\"\n          className=\"form-input popup__input popup__input_name_activity\"\n          name=\"profile-activity\"\n          value={description}\n          onChange={handleDescriptionChange}\n          placeholder=\"Деятельность\"\n          minLength=\"2\" maxLength=\"200\"\n          required />\n        <span\n          className={`popup__input-error popup__input-error_name_profile-activity ${descriptionInputErrMessage && 'popup__input-error_active'}`}>\n          {descriptionInputErrMessage}\n        </span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import '../index.css';\nimport {useState} from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, isLoading}) {\n  const [link, setLink] = useState('');\n  const [linkInputErrMessage, setLinkInputErrMessage] = useState(null);\n\n  const resetInputs = () => {\n    setLink('');\n    setLinkInputErrMessage(null);\n  }\n\n  const handleClose = () => {\n    resetInputs();\n    onClose();\n  }\n\n  const handleChange = (evt) => {\n    const value = evt.target.value;\n    setLink(evt.target.value);\n\n    if (!value) {\n      setLinkInputErrMessage('Обзазательное поле.');\n    } else if (!/^(https?:\\/\\/)/.test(value)) {\n      setLinkInputErrMessage('Не верный формат ссылки.');\n    } else {\n      setLinkInputErrMessage(null);\n    }\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onUpdateAvatar(link);\n    resetInputs();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"update-avatar\"\n      title=\"Обновить аватар\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      isLoading={isLoading}\n      onClose={handleClose}\n      onSubmit={handleSubmit}>\n        <input\n            type=\"url\"\n            className=\"form-input popup__input popup__input_name_avatar-link\"\n            name=\"avatar-link\"\n            value={link}\n            onChange={handleChange}\n            onBlur={handleChange}\n            placeholder=\"https://somewebsite.com/someimage.jpg\"\n            required />\n        <span\n            className={`popup__input-error popup__input-error_name_avatar-link ${linkInputErrMessage && 'popup__input-error_active'}`}>\n            {linkInputErrMessage}\n        </span>    \n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import { useState } from 'react';\nimport '../index.css';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onClose, onCardAdd, isLoading}) {\n    const [name, setName] = useState('');\n    const [link, setLink] = useState('');\n    const [nameInputErrMessage, setNameInputErrMessage] = useState(null);\n    const [urlInputErrMessage, setUrlInputErrMessage] = useState(null);\n\n\n    const handleNameChange = (evt) => {\n      const value = evt.target.value;\n      setName(value);\n\n      if (!value) {\n        setNameInputErrMessage('Обзазательное поле.');\n      } else if (value.length < 2 || value.length > 30) {\n        setNameInputErrMessage('Поле должно содержать минимум 2 символа и максимум 30.');\n      } else {\n        setNameInputErrMessage(null);\n      }\n    };\n\n    const handleLinkChange = (evt) => {\n      const value = evt.target.value;\n      setLink(value);\n\n      if (!value) {\n        setUrlInputErrMessage('Обзазательное поле.');\n      } else if (!/^(https?:\\/\\/)/.test(value)) {\n        setUrlInputErrMessage('Не верный формат ссылки.');\n      } else {\n        setUrlInputErrMessage(null);\n      }\n    };\n    const resetInputs = () => {\n      setName('');\n      setLink('');\n      setNameInputErrMessage(null);\n      setUrlInputErrMessage(null);\n    }\n\n    const handleSubmit = (evt) => {\n      evt.preventDefault();\n      onCardAdd({\n        name,\n        link\n      });\n      resetInputs();\n    }\n\n    const handleClose = () => {\n      resetInputs();\n      onClose();\n    }\n\n    return (\n      <PopupWithForm\n          name=\"add-card\"\n          title=\"Новое место\"\n          isOpen={isOpen}\n          isLoading={isLoading}\n          buttonText=\"Создать\"\n          onClose={handleClose}\n          onSubmit={handleSubmit}>\n          <input\n              type=\"text\"\n              className=\"form-input popup__input popup__input_name_place-name\"\n              name=\"place-name\"\n              value={name}\n              onChange={handleNameChange}\n              onBlur={handleNameChange}\n              placeholder=\"Название\"\n              minLength=\"2\" maxLength=\"30\"\n              required />\n          <span\n            className={`popup__input-error popup__input-error_name_place-name ${nameInputErrMessage && 'popup__input-error_active'}`}>\n            {nameInputErrMessage}\n          </span>\n          <input\n              type=\"url\"\n              className=\"form-input popup__input popup__input_name_place-image-url\"\n              name=\"place-image-url\"\n              value={link}\n              onChange={handleLinkChange}\n              onBlur={handleLinkChange}\n              placeholder=\"Ссылка на картинку\"\n              required />\n          <span\n            className={`popup__input-error popup__input-error_name_place-image-url ${urlInputErrMessage && 'popup__input-error_active'}`}>\n            {urlInputErrMessage}\n          </span>\n      </PopupWithForm>\n    );\n}\n\nexport default AddPlacePopup;","import '../index.css';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteConfirmPopup({isOpen, onClose, onDeleteConfirm, isLoading}) {\n\n  const buttonText = isLoading ? 'Удаление' : 'Да'\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onDeleteConfirm();\n    onClose();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"remove-card\"\n      title=\"Вы уверены?\"\n      buttonText={buttonText}\n      isOpen={isOpen}\n      isLoading={isLoading}\n      onClose={onClose}\n      onSubmit={handleSubmit}>\n    </PopupWithForm>\n  );\n}\n\nexport default DeleteConfirmPopup;\n\n","import '../index.css';\n\nfunction InfoTooltip({isOpen, onClose, message, imageSrc}) {\n    return (\n      <div className={`popup popup_name_info ${isOpen && 'popup_opened'}`}  >\n        <div  className=\"popup__container popup__form\">\n          <button\n            type=\"button\"\n            aria-label=\"Закрыть форму\"\n            className=\"button popup__close-button popup__close-button_location_topcenter\"\n            onClick={onClose}></button>\n          <div className=\"popup__info\">\n            <img className=\"popup__info-image\" src={imageSrc} alt=\"Успех\"/>\n            <h2 className=\"popup__info-text\">{message}</h2>\n          </div>\n        </div>\n      </div>\n    );\n}\n\nexport default InfoTooltip;","import '../index.css';\nimport {Switch, Route, useHistory} from 'react-router-dom';\nimport {useState, useEffect} from 'react';\nimport successImage from '../images/success-icon.svg';\nimport failureImage from '../images/failure-icon.svg';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport { onRequestError } from '../utils/utils';\nimport api from '../utils/api';\nimport Auth from '../utils/auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteConfirmPopup from './DeleteConfirmPopup';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  const [isTooltipPopupOpen, setIsTooltipPopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [userEmail, setUserEmail] = useState(null);\n  const [isDoingWork, setIsDoingWork] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [cardToDelete, setCardToDelete] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [tooltipMessage, setTooltipMessage] = useState(null);\n  const [tooltipImage, setTooltipImage] = useState(null);\n\n  const history = useHistory();\n\n  const checkToken = () => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      Auth.getContent(jwt)\n          .then(res => {\n            setUserEmail(res.data.email);\n            setLoggedIn(true);\n            history.push('/');\n          })\n    }\n  }\n\n  useEffect(() => {\n    checkToken();\n\n    api\n      .getUserInfo()\n      .then((user) => setCurrentUser(user))\n      .catch(err => onRequestError(err, 'Failed to get user info.'));\n    \n    api\n      .getCards()\n      .then(cards => setCards(cards))\n      .catch(err => onRequestError(err, 'Failed to get cards.'));\n  }, []);\n\n  const onEditProfile = () => {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  const onAddPlace = () => {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const onEditAvatar = () => {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\n    \n    api.changeLikeCardStatus(card._id, isLiked)\n        .then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch(err => onRequestError(err, 'Failed to change like status.'));\n  }\n\n  const doCardDelete = () => {\n    setIsDoingWork(true);\n    api.deleteCard(cardToDelete._id)\n        .then(() => {\n            setCards((state) => state.filter((c) => c._id !== cardToDelete._id));\n            closeAllPopups();\n        })\n        .catch(err => onRequestError(err, 'Failed to remove card.'))\n        .finally(() => {\n          setIsDoingWork(false);\n          setCardToDelete(null);\n        });\n  } \n\n  const handleCardDelete = (card) => {\n    setCardToDelete(card);\n    setIsConfirmPopupOpen(true);\n  }\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsConfirmPopupOpen(false);\n    setCardToDelete(null);\n    setIsTooltipPopupOpen(false);\n  }\n\n  const handleUpdateUser = ({name, about}) => {\n    setIsDoingWork(true);\n    api\n      .setProfile(name, about)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch(err => onRequestError(err, 'Failed to edit profile.'))\n      .finally(() => {\n        setIsDoingWork(false);\n      });\n  }\n\n  const handleUpdateAvatar = (link) => {\n    setIsDoingWork(true);\n    api\n      .updateAvatar(link)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch(err => onRequestError(err, 'Failed to update avatar.'))\n      .finally(() => {\n        setIsDoingWork(false);\n      });\n  }\n\n  const handleCardAdd = ({name, link}) => {\n    setIsDoingWork(true);\n    api\n      .addCard(name, link)\n      .then(newCard => {\n        setCards([newCard, ...cards]); \n        closeAllPopups();\n      })\n      .catch(err => onRequestError(err, 'Failed to add new card.'))\n      .finally(() => {\n        setIsDoingWork(false);\n      });\n  }\n\n  const handleRegisterSuccess = () => {\n    setTooltipImage(successImage);\n    setTooltipMessage('Вы успещно зарегистрировались!');\n    setIsTooltipPopupOpen(true);\n  }\n\n  const handleSignFailure = () => {\n    setTooltipImage(failureImage);\n    setTooltipMessage('Что-то пошло не так! Попробуйте ещё раз.');\n    setIsTooltipPopupOpen(true);\n  }\n\n  const handleLogin = (jwt) => {\n    if (jwt) {\n      Auth.getContent(jwt)\n          .then(res => {\n            setUserEmail(res.data.email);\n            setLoggedIn(true);\n            history.push('/');\n          })\n    }\n  }\n\n  const handleLogout = () => {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n  }\n\n  return (\n    <div className=\"App page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Switch>\n          <Route path=\"/sign-in\">\n            <Login onSuccess={handleLogin} onFailure={handleSignFailure}/>\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onSuccess={handleRegisterSuccess} onFailure={handleSignFailure}/>\n          </Route>\n          <ProtectedRoute\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            cards={cards}\n            userEmail={userEmail}\n            onLogout={handleLogout}\n            onEditProfile={onEditProfile}\n            onAddPlace={onAddPlace}\n            onEditAvatar={onEditAvatar}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n        </Switch>\n\n        <Footer />\n    \n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isLoading={isDoingWork}/>\n\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onCardAdd={handleCardAdd} isLoading={isDoingWork} />\n\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isLoading={isDoingWork}/>\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        <DeleteConfirmPopup isOpen={isConfirmPopupOpen} onClose={closeAllPopups} onDeleteConfirm={doCardDelete} isLoading={isDoingWork}/>\n\n        <InfoTooltip isOpen={isTooltipPopupOpen} onClose={closeAllPopups} message={tooltipMessage} imageSrc={tooltipImage}/>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/react-mesto-auth/\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}